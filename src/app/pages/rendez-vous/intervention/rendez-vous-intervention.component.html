<div class="rendez-vous-intervention">
<main class="pageWrapper maxWidth">
    <app-breadcrumb>
        <div class="bg-white rounded p-20 m-b-30">
            <div class="row">
                <div class="col-sm-8">
                    <h4 class="page-title m-0 f-s-18 f-w-600">Rendez-vous interventions</h4>
                </div>
                <div class="col-sm-4">
                    <div class="d-flex align-items-center justify-content-lg-end">
                        <mat-card-title class="mat-mdc-card-title m-b-0">
                            <span class="rounded p-x-8 p-y-2 text-primary bg-light-primary f-s-12 f-w-500">Interventions</span>
                        </mat-card-title>
                    </div>
                </div>
            </div>
        </div>
    </app-breadcrumb>
  
    <!-- Summary Cards -->
    <div class="row">
      <div class="col-sm-6 col-lg-3">
        <mat-card class="mat-mdc-card mdc-card shadow-none p-30 bg-light-primary text-center cursor-pointer rounded">
          <h3 class="f-s-24 text-primary f-w-500 m-b-4">{{ totalInterventions }}</h3>
          <h6 class="text-primary f-w-500 m-0 f-s-16">Total Interventions</h6>
        </mat-card>
      </div>
      <div class="col-sm-6 col-lg-3">
        <mat-card class="mat-mdc-card mdc-card shadow-none p-30 bg-light-warning text-center cursor-pointer rounded">
          <h3 class="f-s-24 text-warning m-b-4 f-w-500">{{ interventionsInProgress }}</h3>
          <h6 class="text-warning f-w-500 m-0 f-s-16">In Progress</h6>
        </mat-card>
      </div>
      <div class="col-sm-6 col-lg-3">
        <mat-card class="mat-mdc-card mdc-card shadow-none p-30 bg-light-success text-center cursor-pointer rounded">
          <h3 class="f-s-24 text-success m-b-4 f-w-500">{{ interventionsOpen }}</h3>
          <h6 class="text-success f-w-500 m-0 f-s-16">Open</h6>
        </mat-card>
      </div>
      <div class="col-sm-6 col-lg-3">
        <mat-card class="mat-mdc-card mdc-card shadow-none p-30 bg-light-error text-center cursor-pointer rounded">
          <h3 class="f-s-24 text-error m-b-4 f-w-500">{{ interventionsClosed }}</h3>
          <h6 class="text-error f-w-500 m-0 f-s-16">Closed</h6>
        </mat-card>
      </div>
    </div>
  
    <!-- Search Input and Add Ticket Button -->
    <mat-card class="mat-mdc-card mdc-card cardWithShadow">
      <mat-card-content class="mat-mdc-card-content">
        <div class="row justify-content-between gap-16">
          <div class="col-sm-4">
            <mat-form-field appearance="outline" class="mat-mdc-form-field hide-hint">
              <input matInput placeholder="Search Interventions" />
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
          </div>
          <div class="col-sm-4 d-flex justify-content-end align-items-center">
            <button mat-flat-button>Add Intervention</button>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  
    <!-- Table -->
    <mat-card class="mat-mdc-card mdc-card cardWithShadow">
      <mat-card-content class="mat-mdc-card-content">
        <div class="table-responsive">
          <table mat-table [dataSource]="dataSource" class="mat-mdc-table w-100 f-w-500 no-wrap" role="table">
  
            <!-- ID Column -->
            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">Id</th>
              <td mat-cell *matCellDef="let intervention">{{ intervention.id }}</td>
            </ng-container>
  
            <!-- Title Column -->
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">Title</th>
              <td mat-cell *matCellDef="let intervention">
                <h6 class="f-s-16 f-w-500 m-b-4">{{ intervention.title }}</h6>
                <span class="f-s-14 f-w-400 max-text d-block">{{ intervention.description }}</span>
              </td>
            </ng-container>
  
            <!-- Assignee Column -->
            <ng-container matColumnDef="assignee">
              <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">Assigned To</th>
              <td mat-cell *matCellDef="let intervention">
                <div class="d-flex align-items-center">
                  <img alt="user" width="35" class="rounded-circle m-r-8" src="{{ intervention.assignee.imageUrl }}">
                  <span class="f-w-600 f-s-16">{{ intervention.assignee.name }}</span>
                </div>
              </td>
            </ng-container>
  
            <!-- Status Column -->
            <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">Status</th>
              <td mat-cell *matCellDef="let intervention">
                <span class="bg-light f-w-500 p-x-8 p-y-4 rounded-pill f-s-12"
                  [ngClass]="getStatusClass(intervention.status)">
                  {{ intervention.status }}
                </span>
              </td>
            </ng-container>
  
            <!-- Date Column -->
            <ng-container matColumnDef="date">
              <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">Date</th>
              <td mat-cell *matCellDef="let intervention" class="f-s-14">
                {{ intervention.date | date }}
              </td>
            </ng-container>
  
            <!-- Action Column -->
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">Action</th>
              <td mat-cell *matCellDef="let intervention" class="action-link">
                <a class="m-r-10 cursor-pointer">
                  <mat-icon>edit</mat-icon>
                </a>
                <a class="m-r-10 cursor-pointer">
                  <mat-icon>delete</mat-icon>
                </a>
              </td>
            </ng-container>
  
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>
  
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of interventions"></mat-paginator>
      </mat-card-content>
    </mat-card>
  
  </main>
</div>